{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{DB6d:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),r=n.n(a),i=n(\"o0o1\"),o=n.n(i),s=n(\"HaE+\"),c=n(\"ODXe\"),l=n(\"nOHt\"),u=n.n(l),p=n(\"ttZb\"),d=n(\"p46w\"),b=n.n(d),f=n(\"SQB0\"),m=n(\"Yn+B\"),h=n(\"Weur\"),v=n(\"pVnL\"),j=n.n(v),O=n(\"8OQS\"),w=n.n(O),y=n(\"qKvR\"),g=n(\"BMxC\"),x=n(\"FpzS\"),E=n(\"0t1A\"),k=Object(a.forwardRef)((function(e,t){var n,a=e.size,r=e.children,i=e.placement,o=void 0===i?\"left\":i,s=e.disablePointerEvents,c=void 0!==s&&s,l=w()(e,[\"size\",\"children\",\"placement\",\"disablePointerEvents\"]),u=E.b[a]&&E.b[a].height,p=E.b[a]&&E.b[a].fontSize,d=((n={})[o]=\"0\",n);return Object(y.d)(g.a,j()({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"absolute\",height:u,width:u,fontSize:p,top:\"0\",zIndex:2,ref:t},c&&{pointerEvents:\"none\"},d,l),r)}));k.displayName=\"InputElement\";var z=Object(a.forwardRef)((function(e,t){return Object(y.d)(k,j()({ref:t,placement:\"left\"},e))}));z.displayName=\"InputLeftElement\";var C=Object(a.forwardRef)((function(e,t){return Object(y.d)(k,j()({ref:t,placement:\"right\"},e))}));C.displayName=\"InputRightElement\";var D=n(\"CjxU\"),S=n(\"D7Da\"),L=function(e){var t=e.children,n=e.size,r=void 0===n?\"md\":n,i=w()(e,[\"children\",\"size\"]),o=Object(D.b)().sizes,s=E.b[r]&&E.b[r].height,c=null,l=null,u=Object(S.a)(t);return Object(y.d)(g.a,j()({display:\"flex\",position:\"relative\"},i),u.map((function(e){return e.type===z&&(c=o[s]),e.type===C&&(l=o[s]),e.type===x.a?Object(a.cloneElement)(e,{size:r,pl:e.props.pl||c,pr:e.props.pr||l}):Object(a.cloneElement)(e,{size:r})})))},R=n(\"eJLp\"),_=n(\"hoFu\"),I=n(\"33Fu\"),B=n(\"Lnxd\"),N=function(e){return Object(B.a)({tag:\"svg\",attr:{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},child:[{tag:\"path\",attr:{d:\"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\"}},{tag:\"polyline\",attr:{points:\"10 17 15 12 10 7\"}},{tag:\"line\",attr:{x1:\"15\",y1:\"12\",x2:\"3\",y2:\"12\"}}]})(e)};N.displayName=\"FiLogIn\";var F=n(\"kTIO\"),H=n(\"gC3a\"),M=n(\"yzqp\"),P=n(\"xjyu\"),T=r.a.createElement,W=function(){var e=Object(a.useRef)(\"\"),t=Object(a.useRef)(\"\"),n=Object(a.useRef)(\"\"),r=Object(a.useRef)(\"\"),i=Object(f.a)(),l=Object(a.useContext)(P.a),d=l.user,v=l.setUser,j=Object(a.useState)(!1),O=j[0],w=j[1],y=Object(a.useState)(\"\"),g=y[0],x=y[1],E=Object(a.useState)(!1),k=E[0],z=E[1],D=Object(a.useState)(!1),S=D[0],B=D[1],W=Object(p.b)(H.b),q=Object(c.a)(W,2),J=q[0],X=(q[1],Object(p.b)(H.d)),Q=Object(c.a)(X,2),U=Q[0];Q[1];Object(a.useEffect)((function(){d&&u.a.push(\"/\")}),[d]);var A=function(){z(!k)},G=function(){var a=Object(s.a)(o.a.mark((function a(s){var c,l,u,p,d;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(x(\"\"),w(!0),s.preventDefault(),c=e.current.value,l=n.current.value,a.prev=5,!S){a.next=11;break}return u=t.current.value,p=null===r||void 0===r?void 0:r.current.value,a.next=11,J({variables:{input:{email:c,displayname:u,password:l,confirmpassword:p}}});case 11:return a.next=13,U({variables:{input:{email:c,password:l}}});case 13:d=a.sent,b.a.set(\"grocerylist_auth_token\",d.data.authenticate.jwtToken),w(!1),B(!1),v(!!b.a.get(\"grocerylist_auth_token\")),a.next=24;break;case 20:a.prev=20,a.t0=a.catch(5),w(!1),i({description:Object(M.a)(a.t0.message),status:\"error\",duration:9001,isClosable:!0});case 24:case\"end\":return a.stop()}}),a,null,[[5,20]])})));return function(e){return a.apply(this,arguments)}}();return T(m.a,{spacing:\"0.5rem\",paddingBottom:\"2rem\"},T(h.a,{justify:\"center\",flexDirection:\"column\",margin:\"auto\",minWidth:\"300px\",maxWidth:\"400px\"},T(\"form\",{method:\"post\",onSubmit:G},T(F.b,{type:\"email\",placeholder:\"Enter email\",ref:e,isDisabled:O}),S&&T(F.b,{type:\"text\",placeholder:\"Enter display name\",ref:t,isDisabled:O}),T(L,{size:\"md\"},T(F.c,{pr:\"4.5rem\",type:k?\"text\":\"password\",placeholder:\"Enter password\",ref:n,isDisabled:O,error:g}),T(C,{width:\"4.5rem\"},T(R.a,{h:\"1.75rem\",size:\"sm\",onClick:A},k?\"Hide\":\"Show\"))),S&&T(L,{size:\"md\"},T(F.c,{pr:\"4.5rem\",type:k?\"text\":\"password\",placeholder:\"Confirm password\",ref:r,isDisabled:O,error:g}),T(C,{width:\"4.5rem\"},T(R.a,{h:\"1.75rem\",size:\"sm\",onClick:A},k?\"Hide\":\"Show\"))),T(_.a,{columns:\"2\",gridGap:\"5px\"},T(F.a,{variantColor:\"blue\",icon:S?I.a:I.b,isLoading:O,isDisabled:O,\"aira-busy\":O,\"aria-label\":\"Register for an account\",onClick:function(){x(\"\"),B(!S)}}),T(F.a,{type:\"submit\",variantColor:\"blue\",icon:N,isLoading:O,isDisabled:O,\"aira-busy\":O,\"aria-label\":\"Log into your account\"})))))},q=r.a.createElement;t.default=function(){return q(W,null)}},hMb1:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signin\",function(){return n(\"DB6d\")}])}},[[\"hMb1\",1,0,7,2,4,3,5]]]);","extractedComments":[]}