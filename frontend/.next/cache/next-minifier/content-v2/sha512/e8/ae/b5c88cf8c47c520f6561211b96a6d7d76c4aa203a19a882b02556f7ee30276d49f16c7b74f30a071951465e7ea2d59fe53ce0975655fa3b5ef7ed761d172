{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{DB6d:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),i=n(\"o0o1\"),s=n.n(i),o=n(\"HaE+\"),c=n(\"ODXe\"),u=n(\"nOHt\"),l=n.n(u),d=n(\"ttZb\"),p=n(\"p46w\"),b=n.n(p),f=n(\"SQB0\"),m=n(\"Yn+B\"),h=n(\"Weur\"),v=n(\"pVnL\"),j=n.n(v),O=n(\"8OQS\"),w=n.n(O),y=n(\"qKvR\"),g=n(\"BMxC\"),x=n(\"FpzS\"),E=n(\"0t1A\"),k=Object(r.forwardRef)((function(e,t){var n,r=e.size,a=e.children,i=e.placement,s=void 0===i?\"left\":i,o=e.disablePointerEvents,c=void 0!==o&&o,u=w()(e,[\"size\",\"children\",\"placement\",\"disablePointerEvents\"]),l=E.b[r]&&E.b[r].height,d=E.b[r]&&E.b[r].fontSize,p=((n={})[s]=\"0\",n);return Object(y.d)(g.a,j()({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"absolute\",height:l,width:l,fontSize:d,top:\"0\",zIndex:2,ref:t},c&&{pointerEvents:\"none\"},p,u),a)}));k.displayName=\"InputElement\";var z=Object(r.forwardRef)((function(e,t){return Object(y.d)(k,j()({ref:t,placement:\"left\"},e))}));z.displayName=\"InputLeftElement\";var R=Object(r.forwardRef)((function(e,t){return Object(y.d)(k,j()({ref:t,placement:\"right\"},e))}));R.displayName=\"InputRightElement\";var C=n(\"CjxU\"),D=n(\"D7Da\"),S=function(e){var t=e.children,n=e.size,a=void 0===n?\"md\":n,i=w()(e,[\"children\",\"size\"]),s=Object(C.b)().sizes,o=E.b[a]&&E.b[a].height,c=null,u=null,l=Object(D.a)(t);return Object(y.d)(g.a,j()({display:\"flex\",position:\"relative\"},i),l.map((function(e){return e.type===z&&(c=s[o]),e.type===R&&(u=s[o]),e.type===x.a?Object(r.cloneElement)(e,{size:a,pl:e.props.pl||c,pr:e.props.pr||u}):Object(r.cloneElement)(e,{size:a})})))},L=n(\"eJLp\"),_=n(\"hoFu\"),I=n(\"33Fu\"),q=n(\"Lnxd\"),B=function(e){return Object(q.a)({tag:\"svg\",attr:{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},child:[{tag:\"path\",attr:{d:\"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\"}},{tag:\"polyline\",attr:{points:\"10 17 15 12 10 7\"}},{tag:\"line\",attr:{x1:\"15\",y1:\"12\",x2:\"3\",y2:\"12\"}}]})(e)};B.displayName=\"FiLogIn\";var N=n(\"kTIO\"),F=n(\"gC3a\"),H=n(\"yzqp\"),M=n(\"xjyu\"),P=a.a.createElement,T=function(){var e=Object(r.useRef)(\"\"),t=Object(r.useRef)(\"\"),n=Object(r.useRef)(\"\"),a=Object(r.useRef)(\"\"),i=Object(f.a)(),u=Object(r.useContext)(M.a),p=u.user,v=u.setUser,j=Object(r.useState)(!1),O=j[0],w=j[1],y=Object(r.useState)(\"\"),g=y[0],x=y[1],E=Object(r.useState)(!1),k=E[0],z=E[1],C=Object(r.useState)(!1),D=C[0],q=C[1],T=Object(d.b)(F.c),W=Object(c.a)(T,2),J=W[0],X=(W[1],Object(d.b)(F.e)),Q=Object(c.a)(X,2),U=Q[0];Q[1];Object(r.useEffect)((function(){p&&l.a.push(\"/\")}),[p]);var A=function(){z(!k)},G=function(){var r=Object(o.a)(s.a.mark((function r(o){var c,u,l,d,p;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(x(\"\"),w(!0),o.preventDefault(),c=e.current.value,u=n.current.value,r.prev=5,!D){r.next=11;break}return l=t.current.value,d=null===a||void 0===a?void 0:a.current.value,r.next=11,J({variables:{input:{email:c,displayname:l,password:u,confirmpassword:d}}});case 11:return r.next=13,U({variables:{input:{email:c,password:u}}});case 13:p=r.sent,b.a.set(\"grocerylist_auth_token\",p.data.authenticate.jwtToken),w(!1),q(!1),v(!!b.a.get(\"grocerylist_auth_token\")),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(5),w(!1),i({description:Object(H.a)(r.t0.message),status:\"error\",duration:9001,isClosable:!0});case 24:case\"end\":return r.stop()}}),r,null,[[5,20]])})));return function(e){return r.apply(this,arguments)}}();return P(m.a,{spacing:\"0.5rem\",paddingBottom:\"2rem\"},P(h.a,{justify:\"center\",flexDirection:\"column\",margin:\"auto\",minWidth:\"300px\",maxWidth:\"400px\"},P(\"form\",{method:\"post\",onSubmit:G},P(N.c,{type:\"email\",placeholder:\"Enter email\",ref:e,isDisabled:O,isRequired:!0}),D&&P(N.c,{type:\"text\",placeholder:\"Enter display name\",ref:t,isDisabled:O,isRequired:!0}),P(S,{size:\"md\"},P(N.d,{pr:\"4.5rem\",type:k?\"text\":\"password\",placeholder:\"Enter password\",ref:n,isDisabled:O,isRequired:!0,error:g}),P(R,{width:\"4.5rem\"},P(L.a,{h:\"1.75rem\",size:\"sm\",onClick:A},k?\"Hide\":\"Show\"))),D&&P(S,{size:\"md\"},P(N.d,{pr:\"4.5rem\",type:k?\"text\":\"password\",placeholder:\"Confirm password\",ref:a,isDisabled:O,isRequired:!0,error:g}),P(R,{width:\"4.5rem\"},P(L.a,{h:\"1.75rem\",size:\"sm\",onClick:A},k?\"Hide\":\"Show\"))),P(_.a,{columns:\"2\",gridGap:\"5px\"},P(N.b,{variantColor:\"blue\",icon:D?I.a:I.b,isLoading:O,isDisabled:O,\"aira-busy\":O,\"aria-label\":\"Register for an account\",onClick:function(){x(\"\"),q(!D)}}),P(N.b,{type:\"submit\",variantColor:\"blue\",icon:B,isLoading:O,isDisabled:O,\"aira-busy\":O,\"aria-label\":\"Log into your account\"})))))},W=a.a.createElement;t.default=function(){return W(T,null)}},hMb1:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signin\",function(){return n(\"DB6d\")}])}},[[\"hMb1\",1,0,9,4,3,2,5,6]]]);","extractedComments":[]}