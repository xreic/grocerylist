{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{HKbm:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var i=n(\"pVnL\"),a=n.n(i),r=n(\"8OQS\"),o=n.n(r),u=n(\"qKvR\"),c=n(\"q1tI\"),d=n(\"BMxC\"),l=(n(\"w0db\"),n(\"+Cyc\")),s=n(\"D7Da\"),m=Object(c.forwardRef)((function(e,t){var n=e.styleType,i=void 0===n?\"none\":n,r=e.stylePos,l=void 0===r?\"inside\":r,m=e.spacing,f=e.children,b=o()(e,[\"styleType\",\"stylePos\",\"spacing\",\"children\"]),p=Object(s.a)(f);return Object(u.d)(d.a,a()({ref:t,as:\"ul\",listStyleType:i,listStylePosition:l},b),p.map((function(e,t){return t+1===c.Children.count(f)?e:Object(c.cloneElement)(e,{spacing:m})})))}));m.displayName=\"List\";var f=Object(c.forwardRef)((function(e,t){var n=e.spacing,i=o()(e,[\"spacing\"]);return Object(u.d)(l.a,a()({ref:t,as:\"li\",mb:n},i))}));f.diplayName=\"ListItem\";t.b=m},R9qi:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var i={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"ALL_ITEMS_QUERY\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"items\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"orderBy\"},value:{kind:\"EnumValue\",value:\"PRIMARY_KEY_DESC\"}}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"nodes\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"product\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"quantity\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"status\"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:157,source:{body:\"\\n  query ALL_ITEMS_QUERY {\\n    items(orderBy: PRIMARY_KEY_DESC) {\\n      nodes {\\n        id\\n        product\\n        quantity\\n        status\\n      }\\n    }\\n  }\\n\",name:\"GraphQL request\",locationOffset:{line:1,column:1}}}}},RNiq:function(e,t,n){\"use strict\";n.r(t);var i=n(\"q1tI\"),a=n.n(i),r=a.a.createElement,o=Object(i.createContext)({}),u=function(e){var t=Object(i.useState)(!0),n=t[0],a=t[1];return r(o.Provider,{value:{isAdd:n,setIsAdd:a}},e.children)},c=n(\"a3WO\");var d=n(\"BsWD\");function l(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(d.a)(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var s=n(\"ODXe\"),m=n(\"ttZb\"),f=n(\"Yn+B\"),b=n(\"OQ2h\"),p=n(\"Weur\"),v=n(\"69N/\"),y=n(\"BMxC\"),k=n(\"NIcq\"),h=n(\"uVoW\"),g=n(\"R9qi\"),O=n(\"kTIO\"),S=a.a.createElement,C=function(){var e=Object(i.useRef)(\"\"),t=Object(i.useRef)(\"\"),n=Object(i.useState)(!1),a=n[0],r=n[1],u=Object(i.useContext)(o),c=u.isAdd,d=u.setIsAdd,C=Object(m.b)(h.a,{update:function(e,t){var n=t.data.addItem,i=e.readQuery({query:g.a}).items.nodes,a=n.item;e.writeQuery({query:g.a,data:{items:{nodes:[a].concat(l(i))}}})}}),j=Object(s.a)(C,2),w=j[0],q=(j[1],function(){d(!c)});return S(f.a,{spacing:\"2rem\",paddingBottom:\"2rem\"},S(b.a,c?{variantColor:\"blue\",icon:k.a,width:\"65%\",maxWidth:\"300px\",alignSelf:\"center\",onClick:q,\"aria-label\":\"Check to switch from add to remove\"}:{variantColor:\"blue\",icon:k.d,width:\"65%\",maxWidth:\"300px\",alignSelf:\"center\",onClick:q,\"aria-label\":\"Check to switch from remove to add\"}),c&&S(p.a,{justify:\"center\"},S(\"form\",{method:\"post\",onSubmit:function(n){n.preventDefault(),r(!0);var i={product:e.current.value,quantity:parseInt(t.current.value)};w({variables:{input:i}}),r(!1),e.current.value=\"\",t.current.value=\"\",e.current.focus()}},S(v.a,{templateColumns:\"5fr 1fr\"},S(y.a,null,S(O.b,{type:\"text\",placeholder:\"Product\",isDisabled:a,ref:e}),S(O.b,{type:\"number\",placeholder:\"Quantity\",isDisabled:a,ref:t})),S(O.a,{type:\"submit\",variantColor:\"blue\",icon:k.a,isLoading:a,isDisabled:a,\"aira-busy\":a,height:!0})))))},j=n(\"HKbm\"),w=n(\"hoFu\"),q=n(\"qWyU\"),E=n(\"pVnL\"),I=n.n(E),N=a.a.forwardRef((function(e,t){return a.a.createElement(y.a,I()({ref:t,as:\"p\",fontFamily:\"body\"},e))}));N.displayName=\"Text\";var R=N,D=a.a.createElement,x=function(e){var t=e.id,n=e.product,a=e.quantity,r=e.handleClick,u=Object(i.useContext)(o),c=u.isAdd,d=(u.setIsAdd,Object(i.useState)(!1)),l=d[0],s=d[1];return D(j.a,{paddingBottom:\"0.5rem\"},D(w.a,{columns:\"3\"},D(R,{alignSelf:\"center\",as:\"b\"},n),D(R,{alignSelf:\"center\",as:\"b\"},a),D(p.a,{justify:\"center\"},D(b.a,c?{size:\"sm\",variantColor:\"blue\",icon:k.e,onClick:function(){return r(t)},\"aria-label\":\"Click to remove from list\"}:{size:\"sm\",variantColor:\"blue\",icon:l?k.c:k.b,onClick:function(){return s(!l)},\"aria-label\":\"Click to select\"}))))},A=a.a.createElement,_=function(e){var t=e.items,n=e.loading,i=e.error,a=Object(m.b)(h.c,{update:function(e,t){var n=t.data.deleteItem,i=e.readQuery({query:g.a}).items.nodes,a=n.item.id;e.writeQuery({query:g.a,data:{items:{nodes:i.filter((function(e){return e.id!==a}))}}})}}),r=Object(s.a)(a,2),o=r[0],u=(r[1],function(e){o({variables:{input:{id:e}}})});return i?A(\"p\",null,\"Error: \",i):!n&&t&&t.length>0?A(j.b,{width:\"60%\",maxWidth:\"500px\",minWidth:\"300px\",margin:\"auto\"},A(j.a,{paddingBottom:\"0.5rem\"},A(w.a,{columns:\"3\"},A(q.a,{as:\"h4\",size:\"lg\"},\"Item\"),A(q.a,{as:\"h4\",size:\"lg\"},\"Quantity\"))),t.map((function(e){return A(x,{key:e.id+e.product,id:e.id,product:e.product,quantity:e.quantity,handleClick:u})}))):A(q.a,{as:\"h4\",size:\"lg\"},\"No groceries.\")},Q=a.a.createElement;t.default=function(e){return Q(u,null,Q(C,null),Q(_,e))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",1,0,6,3,4]]]);","extractedComments":[]}