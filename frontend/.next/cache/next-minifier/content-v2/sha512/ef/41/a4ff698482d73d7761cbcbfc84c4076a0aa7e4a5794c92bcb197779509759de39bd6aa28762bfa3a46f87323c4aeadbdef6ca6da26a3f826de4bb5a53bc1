{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"1OyB\":function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.d(t,\"a\",(function(){return r}))},JX7q:function(e,t,n){\"use strict\";function r(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}n.d(t,\"a\",(function(){return r}))},Ji7U:function(e,t,n){\"use strict\";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,\"a\",(function(){return i}))},RNiq:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),i=n.n(r),o=i.a.createElement,a=Object(r.createContext)({}),c=function(e){var t=Object(r.useState)(!0),n=t[0],i=t[1];return o(a.Provider,{value:{isShopping:n,setIsShopping:i}},e.children)},u=n(\"a3WO\");var s=n(\"BsWD\");function l(e){return function(e){if(Array.isArray(e))return Object(u.a)(e)}(e)||function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(s.a)(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var d=n(\"1OyB\"),f=n(\"vuIU\"),p=n(\"JX7q\"),m=n(\"Ji7U\"),b=n(\"md7G\"),v=n(\"foSv\"),y=n(\"rePB\"),O=i.a.createElement;function h(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var i=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(b.a)(this,n)}}var g=Object(r.createContext)({}),j=function(e){Object(m.a)(n,e);var t=h(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(y.a)(Object(p.a)(e),\"state\",{status:[]}),Object(y.a)(Object(p.a)(e),\"addToHistory\",(function(t){e.setState({status:[t].concat(l(e.state.status))})})),Object(y.a)(Object(p.a)(e),\"removeFromHistory\",(function(t){e.setState({status:e.state.status.filter((function(e){return t!==e.id}))})})),e}return Object(f.a)(n,[{key:\"render\",value:function(){var e=this.addToHistory,t=this.removeFromHistory,n={status:this.state.status,addToHistory:e,removeFromHistory:t};return O(g.Provider,{value:n},this.props.children)}}]),n}(r.Component),S=n(\"nOHt\"),k=n.n(S),x=n(\"Yn+B\"),w=n(\"OQ2h\"),R=n(\"NIcq\"),q=n(\"ODXe\"),C=n(\"ttZb\"),E=n(\"Weur\"),I=n(\"69N/\"),P=n(\"BMxC\"),U=n(\"yOQ6\"),_=n(\"gC3a\"),D=n(\"kTIO\"),N=i.a.createElement;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(){var e=Object(r.useRef)(\"\"),t=Object(r.useRef)(\"\"),n=Object(r.useState)(!1),i=n[0],o=n[1],a=Object(C.b)(_.a),c=Object(q.a)(a,1)[0];return N(E.a,{justify:\"center\"},N(\"form\",{method:\"post\",onSubmit:function(n){n.preventDefault(),o(!0);var r={product:e.current.value,quantity:parseInt(t.current.value)};c({variables:{input:r},optimisticResponse:{__typename:\"Mutation\",addItem:{item:Q({id:Math.round(-1e6*Math.random())},r)}},update:function(e,t){var n=t.data.addItem,r=e.readQuery({query:U.a}).currentUserItems.nodes,i=n.item;e.writeQuery({query:U.a,data:{currentUserItems:{nodes:[i].concat(l(r))}}})}}),o(!1),e.current.value=\"\",t.current.value=\"\",e.current.focus()}},N(I.a,{templateColumns:\"5fr 1fr\"},N(P.a,null,N(D.c,{type:\"text\",placeholder:\"Product\",isDisabled:i,ref:e,isRequired:!0}),N(D.c,{type:\"number\",placeholder:\"Quantity\",isDisabled:i,ref:t,isRequired:!0})),N(D.b,{type:\"submit\",variantColor:\"blue\",icon:R.a,isLoading:i,isDisabled:i,\"aira-busy\":i,\"aira-label\":\"Add into to your grocery list\",height:!0}))))},T=n(\"xjyu\"),B=i.a.createElement,W=function(){var e=Object(r.useContext)(T.a).user,t=Object(r.useContext)(a),n=t.isShopping,i=t.setIsShopping;Object(r.useEffect)((function(){e||k.a.push(\"/signin\")}),[e]);return B(x.a,{spacing:\"2rem\",paddingBottom:\"2rem\"},B(w.a,{variantColor:\"blue\",icon:n?R.a:R.d,width:\"65%\",maxWidth:\"300px\",alignSelf:\"center\",onClick:function(){i(!n)},\"aria-label\":\"Click to switch from \".concat(n?\"add to remove\":\"remove to add\")}),n&&B(H,null))},M=n(\"o0o1\"),L=n.n(M),z=n(\"HaE+\"),J=n(\"yzqp\"),X=n(\"SQB0\"),Y=n(\"hoFu\"),A=n(\"qWyU\"),V=n(\"sK1y\"),G=i.a.createElement,K=function(e){var t=e.id,n=e.product,i=e.quantity,o=e.handleClick,c=Object(r.useState)(!1),u=c[0],s=c[1],l=Object(r.useContext)(g),d=l.addToHistory,f=l.removeFromHistory,p=Object(r.useContext)(a).isShopping;return G(Y.a,{columns:\"3\",paddingBottom:\"0.25rem\"},G(V.a,{alignSelf:\"center\",as:\"b\"},n),G(V.a,{alignSelf:\"center\",as:\"b\"},i),G(E.a,{justify:\"center\"},G(w.a,p?{size:\"sm\",variantColor:\"blue\",icon:R.e,onClick:function(){return o(t)},\"aria-label\":\"Click to remove from list\"}:{size:\"sm\",variantColor:\"blue\",icon:u?R.b:R.c,onClick:function(){return e={id:t,product:n,quantity:i},u?f(t):d(e),void s(!u);var e},\"aria-label\":\"Click to \".concat(u&&\"de\",\"select\")})))},Z=n(\"VFWX\"),$=n(\"eJLp\"),ee=i.a.createElement,te=function(){var e=Object(r.useState)(!1),t=e[0],n=e[1],i=Object(r.useContext)(g).status,o=Object(C.b)(_.b),a=Object(q.a)(o,1)[0];return ee(\"form\",{method:\"post\",onSubmit:function(){var e=Object(z.a)(L.a.mark((function e(t){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!0),r={products:i},e.prev=3,e.next=6,a({variables:{input:r}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(JSON.parse(JSON.stringify(e.t0)));case 11:n(!1);case 12:case\"end\":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},ee($.a,{type:\"sumbit\",variantColor:\"blue\",alignSelf:\"center\",width:\"35%\",maxWidth:\"300px\",marginBottom:\"2rem\",isLoading:t,isDisabled:t,\"aira-busy\":t,\"aria-label\":\"Checkout the selected items\"},\"Checkout\"))},ne=i.a.createElement,re=function(){var e,t=Object(X.a)(),n=Object(r.useContext)(a).isShopping,o=Object(C.c)(U.a),c=o.data,u=o.loading,s=o.error,l=Object(C.b)(_.d),d=Object(q.a)(l,2),f=d[0],p=d[1],m=function(){var e=Object(z.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({variables:{input:{id:t}},optimisticResponse:{__typename:\"Mutation\",deleteItem:{item:{id:t}}},update:function(e,t){var n=t.data.deleteItem,r=e.readQuery({query:U.a}).currentUserItems.nodes,i=n.item.id;e.writeQuery({query:U.a,data:{currentUserItems:{nodes:r.filter((function(e){return e.id!==i}))}}})}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case\"end\":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();if((s||p.error)&&(s&&t({description:s,status:\"error\",duration:9001,isClosable:!0}),p.error&&t({description:Object(J.a)(p.error.message),status:\"error\",duration:9001,isClosable:!0})),u)return ne(Z.a,null);if(null===(e=c.currentUserItems)||void 0===e?void 0:e.nodes.length){var b=c.currentUserItems.nodes;return ne(i.a.Fragment,null,!n&&ne(te,null),ne(x.a,{width:\"60%\",maxWidth:\"500px\",minWidth:\"300px\",margin:\"auto\",spacing:\"0.5rem\"},ne(Y.a,{columns:\"3\"},ne(A.a,{as:\"h4\",size:\"lg\"},\"Item\"),ne(A.a,{as:\"h4\",size:\"lg\"},\"Quantity\")),ne(P.a,null,b.map((function(e){return ne(K,{key:e.id+e.product,id:e.id,product:e.product,quantity:e.quantity,handleClick:m})})))))}return ne(A.a,{as:\"h4\",size:\"lg\"},\"Remember to add to your list. \\ud83d\\udcdd\")},ie=i.a.createElement;t.default=function(){return ie(c,null,ie(j,null,ie(W,null),ie(re,null)))}},VFWX:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),i=n.n(r),o=n(\"Yn+B\"),a=n(\"qWyU\"),c=n(\"pVnL\"),u=n.n(c),s=n(\"8OQS\"),l=n.n(s),d=n(\"cOp2\"),f=n.n(d),p=n(\"CjxU\"),m=n(\"mf32\"),b=n(\"qKvR\"),v=n(\"BMxC\");function y(){var e=f()([\"\\n  animation: \",\" \",\"s;\\n\"]);return y=function(){return e},e}function O(){var e=f()([\"\\nfrom { opacity: 0; }\\nto   { opacity: 1; }\\n\"]);return O=function(){return e},e}function h(){var e=f()([\"\\n  border-color: \",\" !important;\\n  box-shadow: none !important;\\n  opacity: 0.7;\\n  // do not !important this for Firefox support\\n  background: \",\";\\n\\n  // Prevent background color from extending to the border and overlappping\\n  background-clip: padding-box !important;\\n  cursor: default;\\n\\n  // Transparent text will occupy space but be invisible to the user\\n  color: transparent !important;\\n  animation: \",\"s linear infinite alternate\\n    \",\";\\n  pointer-events: none;\\n  user-select: none;\\n\\n  // Make pseudo-elements (CSS icons) and children invisible\\n  &::before,\\n  &::after,\\n  * {\\n    visibility: hidden !important;\\n  }\\n\"]);return h=function(){return e},e}function g(){var e=f()([\"\\nfrom {\\n  border-color: \",\";\\n  background: \",\";\\n}\\n\\nto {\\n  border-color: \",\";\\n  background: \",\";\\n}\\n\"]);return g=function(){return e},e}var j=function(e){var t=e.colorStart,n=e.colorEnd,r=e.speed;return Object(b.c)(h(),t,t,r,function(e,t){return Object(b.e)(g(),e,e,t,t)}(t,n))},S=Object(b.e)(O()),k=function(e){var t=Object(p.b)().colors,n=Object(m.a)().colorMode,i={light:t.gray[100],dark:t.gray[800]},o={light:t.gray[400],dark:t.gray[600]},a=e.colorStart,c=void 0===a?i[n]:a,s=e.colorEnd,d=void 0===s?o[n]:s,f=e.isLoaded,O=void 0!==f&&f,h=e.fadeInDuration,g=void 0===h?.4:h,k=e.speed,x=void 0===k?.8:k,w=l()(e,[\"colorStart\",\"colorEnd\",\"isLoaded\",\"fadeInDuration\",\"speed\"]),R=Object(r.useMemo)((function(){return e=g,Object(b.c)(y(),S,e);var e}),[g]),q=Object(r.useMemo)((function(){return j({colorStart:c,colorEnd:d,speed:x})}),[c,d,x]);return O?Object(b.d)(v.a,u()({css:R},w)):Object(b.d)(v.a,u()({css:q,borderRadius:\"2px\"},w))},x=i.a.createElement;t.a=function(){return x(o.a,{width:\"60%\",maxWidth:\"500px\",minWidth:\"300px\",margin:\"auto\",spacing:\"0.5rem\"},x(a.a,{as:\"h4\",size:\"lg\"},\"Loading\"),x(k,{borderRadius:\"1rem\"},\"Placeholder\"),x(k,{borderRadius:\"1rem\"},\"Placeholder\"),x(k,{borderRadius:\"1rem\"},\"Placeholder\"),x(k,{borderRadius:\"1rem\"},\"Placeholder\"))}},foSv:function(e,t,n){\"use strict\";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,\"a\",(function(){return r}))},md7G:function(e,t,n){\"use strict\";function r(e){return(r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}n.d(t,\"a\",(function(){return o}));var i=n(\"JX7q\");function o(e,t){return!t||\"object\"!==r(t)&&\"function\"!==typeof t?Object(i.a)(e):t}},qWyU:function(e,t,n){\"use strict\";var r=n(\"pVnL\"),i=n.n(r),o=n(\"8OQS\"),a=n.n(o),c=n(\"qKvR\"),u=n(\"BMxC\"),s=n(\"q1tI\"),l={\"2xl\":[\"4xl\",null,\"5xl\"],xl:[\"3xl\",null,\"4xl\"],lg:[\"xl\",null,\"2xl\"],md:\"xl\",sm:\"md\",xs:\"sm\"},d=Object(s.forwardRef)((function(e,t){var n=e.size,r=void 0===n?\"xl\":n,o=a()(e,[\"size\"]);return Object(c.d)(u.a,i()({ref:t,as:\"h2\",fontSize:l[r],lineHeight:\"shorter\",fontWeight:\"bold\",fontFamily:\"heading\"},o))}));d.displayName=\"Heading\",t.a=d},rePB:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))},sK1y:function(e,t,n){\"use strict\";var r=n(\"pVnL\"),i=n.n(r),o=n(\"q1tI\"),a=n.n(o),c=n(\"BMxC\"),u=a.a.forwardRef((function(e,t){return a.a.createElement(c.a,i()({ref:t,as:\"p\",fontFamily:\"body\"},e))}));u.displayName=\"Text\",t.a=u},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])},vuIU:function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,\"a\",(function(){return i}))},yOQ6:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return i}));var r={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"USERS_ITEMS_QUERY\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"currentUserItems\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"nodes\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"product\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"quantity\"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:128,source:{body:\"\\n  query USERS_ITEMS_QUERY {\\n    currentUserItems {\\n      nodes {\\n        id\\n        product\\n        quantity\\n      }\\n    }\\n  }\\n\",name:\"GraphQL request\",locationOffset:{line:1,column:1}}}},i={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"USER_HISTORY_QUERY\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"currentUserHistory\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"nodes\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"history\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"createdAt\"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:132,source:{body:\"\\n  query USER_HISTORY_QUERY {\\n    currentUserHistory {\\n      nodes {\\n        id\\n        history\\n        createdAt\\n      }\\n    }\\n  }\\n\",name:\"GraphQL request\",locationOffset:{line:1,column:1}}}}}},[[\"vlRD\",1,0,7,4,3,2,5,6]]]);","extractedComments":[]}