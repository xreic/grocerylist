{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n// Dependencies\nimport { useContext, useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks'; // Styles\n\nimport { Button } from '@chakra-ui/core'; // Apollo\n\nimport { ADD_TO_HISTORY_MUTATION } from '../lib/apollo/mutations'; // React\n\nimport { StatusContext } from '../lib/React/StatusContext';\n\nconst GroceryCheckout = () => {\n  // Hooks + Contexts\n  const {\n    0: isCalling,\n    1: setIsCalling\n  } = useState(false);\n  const {\n    status\n  } = useContext(StatusContext); // Apollo\n\n  const [addToHistory] = useMutation(ADD_TO_HISTORY_MUTATION); // Handlers\n\n  const handleCheckout = async e => {\n    e.preventDefault();\n    setIsCalling(true);\n    const input = {\n      products: status\n    };\n\n    try {\n      await addToHistory({\n        variables: {\n          input\n        }\n      });\n    } catch (error) {\n      console.log(JSON.parse(JSON.stringify(error)));\n    }\n\n    setIsCalling(false);\n  };\n\n  return __jsx(\"form\", {\n    method: \"post\",\n    onSubmit: handleCheckout\n  }, __jsx(Button, {\n    type: \"sumbit\",\n    variantColor: \"blue\",\n    alignSelf: \"center\",\n    width: \"35%\",\n    maxWidth: \"300px\",\n    marginBottom: \"2rem\",\n    isLoading: isCalling,\n    isDisabled: isCalling,\n    \"aira-busy\": isCalling,\n    \"aria-label\": `Checkout the selected items`\n  }, \"Checkout\"));\n};\n\nexport default GroceryCheckout;","map":null,"metadata":{},"sourceType":"module"}